<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<f:metadata>
	<f:viewParam name="id" />
	<f:event listener="#{projectPageBean.onLoad(id)}" type="preRenderView"></f:event>
</f:metadata>

<h:body>
	<ui:composition template="/WEB-INF/template/layout.xhtml">

		<ui:define name="css">
			<link rel="stylesheet" href="css/projectPage.css" />
		</ui:define>

		<ui:define name="content">


			<div class="container-fluid p-5" id="projectPageBody">

				<div class="row">

					<div class="col-12 col-xxl-8">
						<div class="container shadow">
							<div class="row">
								<div class="col-12 my-2">
									<h1>#{projectPageBean.project.name}</h1>
								</div>
							</div>

							<div class="row">
								<div class="col-12 col-lg-6 text-center">
									<img class="img-fluid mb-4" style="object-fit:cover"
										src="#{projectPageBean.project.imagePath}" />
								</div>
								<div class="col-12 col-lg-6 my-auto pb-4">
									<h5>#{projectPageBean.project.description}</h5>
									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer la Description" type="button"
										onclick="PF('descriptionPop').show()" />
								</div>
							</div>


						</div>
						<br />

						<div class="row mb-1">
							<p:commandButton icon="fa-solid fa-minus"
								styleClass="rounded-button ui-button-danger ui-button-outlined"
								title="Editer" action="#" />
						</div>

						<div class="col-12 mb-5">
							<p:tabView>
								<p:tab>
									<f:facet name="title">
										<i class="fa-solid fa-business-time" /> Description
									</f:facet>

									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer la Description" action="#" />
									<p>Description longue: bla bla bla</p>
								</p:tab>


								<p:tab>
									<f:facet name="title">
										<i class="fa-solid fa-euro-sign" /> Objectifs
									</f:facet>


									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer le palier 1" action="#" />
									<div class="row">

										<h6>Palier 1</h6>
										<p>Blablabla</p>
									</div>

									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer le palier 2" action="#" />
									<div class="row">

										<h6>Palier 2</h6>
										<p>Blablabla</p>
									</div>

									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer le palier 3" action="#" />
									<div class="row">

										<h6>Palier 3</h6>
										<p>Blablabla</p>
									</div>
								</p:tab>

								<p:tab>
									<f:facet name="title">
										<i class="fa-solid fa-question" /> FAQ
									</f:facet>

									<p:commandButton icon="fa-solid fa-pen-to-square"
										styleClass="rounded-button ui-button-secondary ui-button-outlined"
										title="Editer la FAQ" action="#" />
									<p>FAQ: bla bla bla</p>

								</p:tab>

							</p:tabView>
						</div>
					</div>
					<div class="col-12 col-xxl-4">
						<div class="row mb-5">
							<div class="col-12 col-lg-5">
								<img class="img-fluid w-100"
									src="#{projectPageBean.organizationAccount.imagePath}" alt="" />
							</div>
							<div class="col-12 col-lg-7 my-auto">
								<h4>#{projectPageBean.organizationAccount.organizationInfo.name}</h4>
								<p>#{projectPageBean.organizationAccount.organizationInfo.summary}</p>
							</div>
						</div>

						<hr />

						<div class="row">
							<div class="col-12 col-md-1" />
							<div class="col-12 col-md-10">
								<br />
								<div class="text-center">
										<p:knob foregroundColor="#426CB4" backgroundColor="#4f4f4f"
											disabled="true"
											labelTemplate="#{projectPageBean.remainingDays}"
											value="#{projectPageBean.countDown(projectPageBean.remainingDays, projectPageBean.donationDuration)}" />
								</div>

								<div class="row justify-content-center mb-5">Il vous reste
									#{projectPageBean.remainingDays} jours (sur
									#{projectPageBean.donationDuration}) pour participer !</div>

								<br />
								<div class="text-center">
									<div class="progress bg-secondary">
										<div
											class="progress-bar progress-bar-striped progress-bar-animated"
											style="width:#{projectPageBean.percentage(projectPageBean.project.currentAmount, projectPageBean.project.targetAmount)}%">#{projectPageBean.percentage(projectPageBean.project.currentAmount,
											projectPageBean.project.targetAmount)}%</div>
									</div>
								</div>
								<div class="row justify-content-center">

									#{projectPageBean.project.currentAmount}€ collectés sur
									#{projectPageBean.project.targetAmount}€</div>

								<div class="row mt-5 mb-3 text-center">
									<div class="col-12 col-md-2" />
									<div class="col-12 col-md-8">
										<p:linkButton icon="pi pi-euro"
											styleClass="ui-button-outlined ui-button-secondary rounded-pill"
											value="Effectuer un don"
											outcome="donationPage.xhtml?id=#{id}faces-redirect=true" />
									</div>
								</div>

								<div class="row mt-3 text-center">
									<div class="col-12 col-md-4" />
									<div class="col-6 col-md-2">
										<p:commandButton icon="fa-regular fa-heart"
											styleClass="rounded-button ui-button-danger ui-button-outlined"
											title="Ajouter aux favoris" action="#{projectPageBean.addFavorite}" />
									</div>
									<div class="col-6 col-md-2">
										<p:commandButton icon="fa-regular fa-thumbs-up"
											styleClass="rounded-button ui-button-primary ui-button-outlined"
											title="J'aime" action="#" />
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>


			<ui:include
				src="WEB-INF/subpage/projectPage/modifDescriptionPopup.xhtml" />


		</ui:define>
	</ui:composition>
</h:body>
</html>
